var hoverView,extend=function(t,e){function o(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;hoverView=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.prototype.tagName="div",e.prototype.className="hovercard",e.prototype.defaultopt={loadTimeOut:1e3,popover_opt:{placement:"top",html:!0}},e.prototype.registerpopoverevent=function(){this.target.on("show.bs.popover",_.bind(this.onshowhandler,this)),this.target.on("shown.bs.popover",_.bind(this.aftershowhandler,this)),this.target.on("hide.bs.popover",_.bind(this.hidepopoverhandler,this)),this.target.on("hidden.bs.popover",_.bind(this.hiddenpopoverhandler,this)),this.target.on("inserted.bs.popover",_.bind(this.oninsertedhandler,this))},e.prototype.oninsertedhandler=function(){console.log("testing")},e.prototype.hiddenpopoverhandler=function(){console.log("hidding"),this.$el.empty(),delete this.model},e.prototype.hidepopoverhandler=function(){console.log("Testing")},e.prototype.onshowhandler=function(t){this.trigger("onShowEvent",t)},e.prototype.aftershowhandler=function(t){this.data_url&&setTimeout(_.bind(this.fetchData,this),this.defaultopt.loadTimeOut),this.trigger("afterShowEvent",t)},e.prototype.onShow=function(t){return this.on("onShowEvent",t),this},e.prototype.afterShow=function(t){return this.on("afterShowEvent",t),this},e.prototype.fetchData=function(){return $.get(this.data_url,function(t){return function(e){return t.model=new Backbone.Model(e),t.$el.html(t.template(t.model.attributes))}}(this))},e.prototype.initialize=function(t){return null==t&&(t={}),t=_.defaults(t,this.defaultopt.popover_opt),t.template&&(this.template=_.template(t.template)),t.popover_opt&&(this.popover_opt=t.popover_opt),t.data&&(_.isString(t.data)?this.data_url=t.data:this.model=new Backbone.Model(t.data)),t.target&&(this.target=$(t.target)),this.render(),this},e.prototype.show=function(){this.target.popover("show")},e.prototype.destroy=function(){this.target.popover("destroy")},e.prototype.hide=function(){this.target.popover("hide")},e.prototype.render=function(){return this.$el.empty(),this.$el.html("loading please wait"),this.model&&this.$el.html(this.template(this.model.attributes)),this.popover_opt.content=this.$el,this.target.popover(this.popover_opt),this.registerpopoverevent(),this},e}(Backbone.View),window.hoverCard=function(t){var e,o,r,n;if(null==t&&(t={}),e=[],t.template||e.push("template parameter missing"),t.popover_opt||e.push("popover parameters missing"),t.data||e.push("data parameter missing"),t.target||e.push("target element is required"),!(e.length>0))return new hoverView(t);for(r=0,n=e.length;n>r;r++)o=e[r],console.log(o)};